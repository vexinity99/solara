<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>IP Logger + File Download (Safe)</title>
</head>
<body>
  <h2>Your IP address will be shown and logged when you click OK.</h2>
  <button onclick="handleIPAndDownload()">OK</button>

  <p id="ipDisplay"></p>

  <script>
    async function handleIPAndDownload() {
      try {
        // Get IP
        const response = await fetch('https://api.ipify.org?format=json');
        const data = await response.json();
        const ip = data.ip;

        // Show IP
        document.getElementById('ipDisplay').textContent = "Your IP: " + ip;

        // Send to webhook (CORS will block this in most browsers)
        const webhookURL = "https://discord.com/api/webhooks/1377028231135363212/JsS0pwLdWBN9ZhFE0vYvXEERCseOgfbM1QZIiJywQpczkbphvNU96nLiVm9VkLphuhgM";

        // Try sending (may fail silently due to CORS)
        await fetch(webhookURL, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            embeds: [{
              title: "Visitor IP Logged",
              description: `IP: ${ip}`,
              color: 15844367
            }]
          })
        });

        console.log("IP sent to webhook (if CORS allowed)");

        // Download file
        const link = document.createElement('a');
        link.href = 'yourfile.zip';  // Replace with your actual file
        link.download = 'yourfile.zip';
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
      } catch (error) {
        console.error("Error getting IP or sending to webhook:", error);
      }
    }
  </script>
</body>
</html>
